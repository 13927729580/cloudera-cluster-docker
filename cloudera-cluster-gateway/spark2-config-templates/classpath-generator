#!/bin/bash


declare -a jars_to_find=(
    "activation-1\.1\.jar"
    "aopalliance-1\.0\.jar"
    "apacheds-i18n-2\.0\.0-M15\.jar"
    "apacheds-kerberos-codec-2\.0\.0-M15\.jar"
    "api-asn1-api-1\.0\.0-M20\.jar"
    "api-util-1\.0\.0-M20\.jar"
    "asm-3\.2\.jar"
    "avro-1\.7\.6-cdh5\.[0-9]+\.0\.jar"
    "aws-java-sdk-core-1\.10\.6\.jar"
    "aws-java-sdk-kms-1\.10\.6\.jar"
    "aws-java-sdk-s3-1\.10\.6\.jar"
    "aws-java-sdk-sts-1\.10\.6\.jar"
    "commons-beanutils-1\.9\.2\.jar"
    "commons-beanutils-core-1\.8\.0\.jar"
    "commons-cli-1\.2\.jar"
    "commons-codec-1\.4\.jar"
    "commons-collections-3\.2\.2\.jar"
    "commons-compress-1\.4\.1\.jar"
    "commons-configuration-1\.6\.jar"
    "commons-daemon-1\.0\.13\.jar"
    "commons-digester-1\.8\.jar"
    "commons-el-1\.0\.jar"
    "commons-httpclient-3\.1\.jar"
    "commons-io-2\.4\.jar"
    "commons-lang-2\.6\.jar"
    "commons-logging-1\.1\.3\.jar"
    "commons-math3-3\.1\.1\.jar"
    "commons-net-3\.1\.jar"
    "curator-client-2\.7\.1\.jar"
    "curator-framework-2\.7\.1\.jar"
    "curator-recipes-2\.7\.1\.jar"
    "gson-2\.2\.4\.jar"
    "guava-11\.0\.2\.jar"
    "guice-3\.0\.jar"
    "guice-servlet-3\.0\.jar"
    "hadoop-annotations-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-ant-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-archive-logs-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-archives-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-auth-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-aws-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-azure-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-common-2\.6\.0-cdh5\.[0-9]+\.0-tests\.jar"
    "hadoop-common-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-datajoin-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-distcp-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-extras-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-gridmix-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-hdfs-2\.6\.0-cdh5\.[0-9]+\.0-tests\.jar"
    "hadoop-hdfs-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-hdfs-nfs-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-mapreduce-client-app-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-mapreduce-client-common-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-mapreduce-client-core-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-mapreduce-client-hs-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-mapreduce-client-hs-plugins-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-mapreduce-client-jobclient-2\.6\.0-cdh5\.[0-9]+\..+\.jar"
    "hadoop-mapreduce-client-jobclient-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-mapreduce-client-nativetask-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-mapreduce-client-shuffle-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-mapreduce-examples-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-nfs-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-openstack-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-rumen-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-sls-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-streaming-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-yarn-api-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-yarn-applications-distributedshell-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-yarn-applications-unmanaged-am-launcher-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-yarn-client-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-yarn-common-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-yarn-registry-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-yarn-server-applicationhistoryservice-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-yarn-server-common-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-yarn-server-nodemanager-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-yarn-server-resourcemanager-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-yarn-server-tests-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hadoop-yarn-server-web-proxy-2\.6\.0-cdh5\.[0-9]+\.0\.jar"
    "hamcrest-core-1\.3\.jar"
    "htrace-core4-4\.0\.1-incubating\.jar"
    "httpclient-4\.2\.5\.jar"
    "httpcore-4\.2\.5\.jar"
    "hue-plugins-3\.9\.0-cdh5\.[0-9]+\.0\.jar"
    "jackson-annotations-2\.2\.3\.jar"
    "jackson-core-2\.2\.3\.jar"
    "jackson-core-asl-1\.8\.8\.jar"
    "jackson-databind-2\.2\.3\.jar"
    "jackson-jaxrs-1\.8\.8\.jar"
    "jackson-mapper-asl-1\.8\.8\.jar"
    "jackson-xc-1\.8\.8\.jar"
    "jasper-compiler-5\.5\.23\.jar"
    "jasper-runtime-5\.5\.23\.jar"
    "java-xmlbuilder-0\.4\.jar"
    "javax\.inject-1\.jar"
    "jaxb-api-2\.2\.2\.jar"
    "jaxb-impl-2\.2\.3-1\.jar"
    "jersey-client-1\.9\.jar"
    "jersey-core-1\.9\.jar"
    "jersey-guice-1\.9\.jar"
    "jersey-json-1\.9\.jar"
    "jersey-server-1\.9\.jar"
    "jets3t-0\.9\.0\.jar"
    "jettison-1\.1\.jar"
    "jetty-6\.1\.26\.cloudera\.4\.jar"
    "jetty-util-6\.1\.26\.cloudera\.4\.jar"
    "jline-2\.11\.jar"
    "jsch-0\.1\.42\.jar"
    "jsp-api-2\.1\.jar"
    "jsr305-3\.0\.0\.jar"
    "junit-4\.11\.jar"
    "leveldbjni-all-1\.8\.jar"
    "log4j-1\.2\.17\.jar"
    "logredactor-1\.0\.3\.jar"
    "metrics-core-3\.0\.2\.jar"
    "microsoft-windowsazure-storage-sdk-0\.6\.0\.jar"
    "mockito-all-1\.8\.5\.jar"
    "netty-3\.10\.5\.Final\.jar"
    "paranamer-2\.3\.jar"
    "parquet-avro-1\.5\.0-cdh5\.[0-9]+\.0\.jar"
    "parquet-cascading-1\.5\.0-cdh5\.[0-9]+\.0\.jar"
    "parquet-column-1\.5\.0-cdh5\.[0-9]+\.0\.jar"
    "parquet-common-1\.5\.0-cdh5\.[0-9]+\.0\.jar"
    "parquet-encoding-1\.5\.0-cdh5\.[0-9]+\.0\.jar"
    "parquet-format-2\.1\.0-cdh5\.[0-9]+\.0-javadoc\.jar"
    "parquet-format-2\.1\.0-cdh5\.[0-9]+\.0-sources\.jar"
    "parquet-format-2\.1\.0-cdh5\.[0-9]+\.0\.jar"
    "parquet-generator-1\.5\.0-cdh5\.[0-9]+\.0\.jar"
    "parquet-hadoop-1\.5\.0-cdh5\.[0-9]+\.0\.jar"
    "parquet-hadoop-bundle-1\.5\.0-cdh5\.[0-9]+\.0\.jar"
    "parquet-jackson-1\.5\.0-cdh5\.[0-9]+\.0\.jar"
    "parquet-pig-1\.5\.0-cdh5\.[0-9]+\.0\.jar"
    "parquet-pig-bundle-1\.5\.0-cdh5\.[0-9]+\.0\.jar"
    "parquet-protobuf-1\.5\.0-cdh5\.[0-9]+\.0\.jar"
    "parquet-scala_2\.10-1\.5\.0-cdh5\.[0-9]+\.0\.jar"
    "parquet-scrooge_2\.10-1\.5\.0-cdh5\.[0-9]+\.0\.jar"
    "parquet-test-hadoop2-1\.5\.0-cdh5\.[0-9]+\.0\.jar"
    "parquet-thrift-1\.5\.0-cdh5\.[0-9]+\.0\.jar"
    "parquet-tools-1\.5\.0-cdh5\.[0-9]+\.0\.jar"
    "protobuf-java-2\.5\.0\.jar"
    "servlet-api-2\.5\.jar"
    "slf4j-api.jar"
    "slf4j-log4j12.jar"
    "snappy-java-1\.0\.4\.1\.jar"
    "spark-1\.6\.0-cdh5\.[0-9]+\.0-yarn-shuffle\.jar"
    "stax-api-1\.0-2\.jar"
    "xercesImpl-2\.9\.1\.jar"
    "xml-apis-1\.3\.04\.jar"
    "xmlenc-0\.52\.jar"
    "xz-1\.0\.jar"
    "zookeeper-3\.4\.5-cdh5\.[0-9]+\.0\.jar"
)

declare -a jars=(
    "/usr/lib/hadoop/LICENSE.txt"
    "/usr/lib/hadoop/NOTICE.txt"
)

for jar in "${jars_to_find[@]}"
do
    find /usr/lib -regextype posix-extended -regex ".*(avro|hadoop|spark|spark2|parquet|zookeeper).*$jar" -print | sort | head -n 1
done

for jar in "${jars[@]}"
do
   echo "$jar"
done
